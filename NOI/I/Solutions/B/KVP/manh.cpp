#include <stdio.h>
#include <iostream>
#include <algorithm>

using namespace std;

int a[2][2][2];

int main () {
    for(int i = 0; i < 2; i ++) {
        for(int j = 0; j < 4; j ++) {
            scanf("%d", &a[i][j / 2][j % 2]);
        }
    }
    if(a[0][0][0] == a[0][1][0]) {
        if(a[1][0][0] == a[1][1][0]) {
            if((a[1][0][1] <= max(a[0][0][1], a[0][1][1]) and a[1][0][1] >= min(a[0][0][1], a[0][1][1])) or (a[1][1][1] <= max(a[0][0][1], a[0][1][1]) and a[1][1][1] >= min(a[0][0][1], a[0][1][1]))) {
                printf("%d\n", abs(a[0][0][0] - a[1][0][0]));
                return 0;
            }
            printf("%d\n", min(abs(a[0][0][0] - a[1][0][0]) + abs(max(a[0][0][1], a[0][1][1]) - min(a[1][0][1], a[1][1][1])), abs(a[0][0][0] - a[1][0][0]) + abs(min(a[0][0][1], a[0][1][1]) - max(a[1][0][1], a[1][1][1]))));
            return 0;
        }
        if(max(a[1][0][0], a[1][1][0]) > a[0][0][0] and min(a[1][0][0], a[1][1][0]) < a[0][0][0]) {
            printf("%d\n", min(abs(a[0][0][1] - a[1][1][1]), abs(a[0][1][1] - a[1][1][1])));
            return 0;
        }
        if(a[1][0][1] <= max(a[0][0][1], a[0][1][1]) and a[1][0][1] >= min(a[0][0][1], a[0][1][1])) {
            printf("%d\n", min(abs(a[0][0][0] - a[1][0][0]), abs(a[0][0][0] - a[1][1][0])));
            return 0;
        }
        printf("%d\n", min(abs(a[1][0][0] - a[0][0][0]), abs(a[1][1][0] - a[0][0][0])) + min(abs(a[1][1][1] - a[0][0][1]), abs(a[1][1][1] - a[0][1][1])));
        return 0;
    }
    if(a[1][0][1] == a[1][1][1]) {
        if((a[1][0][0] <= max(a[0][0][0], a[0][1][0]) and a[1][0][0] >= min(a[0][0][0], a[0][1][0])) or (a[1][1][0] <= max(a[0][0][0], a[0][1][0]) and a[1][1][0] >= min(a[0][0][0], a[0][1][0]))) {
            printf("%d\n", abs(a[0][0][1] - a[1][0][1]));
            return 0;
        }
        printf("%d\n", min(abs(a[0][0][1] - a[1][0][1]) + abs(max(a[0][0][0], a[0][1][0]) - min(a[1][0][0], a[1][1][0])), abs(a[0][0][1] - a[1][0][1]) + abs(min(a[0][0][0], a[0][1][0]) - max(a[1][0][0], a[1][1][0]))));
        return 0;
    }
    if(max(a[1][0][1], a[1][1][1]) > a[0][0][1] and min(a[1][0][1], a[1][1][1]) < a[0][0][1]) {
        printf("%d\n", min(abs(a[0][0][0] - a[1][1][0]), abs(a[0][1][0] - a[1][1][0])));
        return 0;
    }
    if(a[1][0][0] <= max(a[0][0][0], a[0][1][0]) and a[1][0][0] >= min(a[0][0][0], a[0][1][0])) {
            printf("%d\n", min(abs(a[0][0][1] - a[1][0][1]), abs(a[0][0][1] - a[1][1][1])));
        return 0;
    }
    printf("%d\n", min(abs(a[1][0][1] - a[0][0][1]), abs(a[1][1][1] - a[0][0][1])) + min(abs(a[1][1][0] - a[0][0][0]), abs(a[1][1][0] - a[0][1][0])));
    return 0;
}
